<style>
    ._authmng-null {
        height: 10px;
        width: 100%;
    }

    ._authmng-button-act {
        color: #fff;
        background-color: #5cb85c;
        display: inline-block;
        margin-bottom: 0;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        cursor: pointer;
        background-image: none;
        border: 1px solid #4cae4c;
        padding: 6px 12px;
        font-size: 14px;
        line-height: 1.42857143;
        border-radius: 4px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
    }

    ._authmng-button-act:hover {
        color: #fff;
        background-color: #449d44;
        border-color: #398439;
    }

    ._authmng-button {
        display: inline-block;
        margin-bottom: 0;
        font-weight: 400;
        text-align: center;
        white-space: nowrap;
        vertical-align: middle;
        -ms-touch-action: manipulation;
        touch-action: manipulation;
        cursor: pointer;
        background-image: none;
        border: 1px solid #ccc;
        padding: 6px 12px;
        font-size: 14px;
        line-height: 1.42857143;
        border-radius: 4px;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        color: #333;
        background-color: #fff;
        outline: none;
    }

    ._authmng-button:hover {
        color: #333;
        background-color: #d4d4d4;
        border-color: #8c8c8c;
    }

    ._authmng-input {
        width: 300px;
        display: inline-block;
        vertical-align: middle;
        height: 34px;
        padding: 6px 12px;
        font-size: 14px;
        line-height: 1.42857143;
        color: #555;
        background-color: #fff;
        background-image: none;
        border: 1px solid #ccc;
        outline: none;
        border-radius: 4px;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
        -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
    }

    ._authmng-input:focus, ._authmng-textarea:focus {
        border-color: #66afe9;
        outline: 0;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(102, 175, 233, .6);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(102, 175, 233, .6);
    }

    ._authmng-textarea {
        height: 100px;
        width: 500px;
        display: inline-block;
        vertical-align: middle;
        padding: 6px 12px;
        font-size: 14px;
        line-height: 1.42857143;
        color: #555;
        background-color: #fff;
        background-image: none;
        border: 1px solid #ccc;
        outline: none;
        border-radius: 4px;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
        -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
    }

    ._authmng-menu-input {
        width: 70px;
        vertical-align: middle;
        outline: none;
        box-sizing: border-box;
        padding: 5px 0 5px 5px;
        color: #555;
        background-color: #fff;
        background-image: none;
        border: 1px solid #ccc;
        border-radius: 3px;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075);
        -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        -webkit-transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
        transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s, -webkit-box-shadow ease-in-out .15s;
    }

    ._authmng-menu-input:focus {
        border-color: #66afe9;
        outline: 0;
        -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(102, 175, 233, .6);
        box-shadow: inset 0 1px 1px rgba(0, 0, 0, .075), 0 0 8px rgba(102, 175, 233, .6);
    }

    ._authmng-table {
        border-collapse: collapse;
        border-spacing: 0;
        width: 100%;
        border: 1px solid #ddd;
    }

    ._authmng-table tr, ._authmng-table td, ._authmng-table th {
        height: 35px;
    }

    ._authmng-table td, ._authmng-table th {
        border: 1px solid #ddd;
        padding: 1px 5px !important;
        text-align: left;
        vertical-align: middle !important;
    }

    ._authmng-table > tbody > tr:hover {
        background-color: #f0f0f0
    }

    ._authmng-font-color {
        color: #ff0000;
    }

    ._authmng-first-bg {
        background: #c1c1c1;
    }

    ._authmng-id-width {
        width: 320px;
    }

    ._authmng-add-width {
        width: 150px;
    }

    ._authmng-nav {
        padding-left: 0;
        margin-bottom: 0;
        list-style: none;
        border-bottom: 1px solid #ddd;
    }

    ._authmng-nav-active {

    }

    ._authmng-nav-active a {
        color: #555;
        cursor: default;
        background-color: #fff;
        border: 1px solid #ddd;
        border-bottom-color: transparent;
        margin-bottom: -1px;
    }

    ._authmng-nav li {
        position: relative;
        display: inline-block;
    }

    ._authmng-nav > li > a {
        /*margin-right: 2px;*/
        /*line-height: 1.42857143;*/
        /*border: 1px solid transparent;*/
        /*border-radius: 4px 4px 0 0;*/
        position: relative;
        display: block;
        padding: 10px 15px;
        margin-right: 2px;
        line-height: 1.42857143;
        border: 1px solid transparent;
        border-radius: 4px 4px 0 0;
    }

</style>
<!--<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>-->
<script>
    $(function () {
        var click_flag = true;
        $("._authmng-submit").off('click').on('click', function () {
            var post_url, list_url;
            var d = $(this).parents('form');
            post_url = $(this).attr('post_url');
            list_url = $(this).attr('list_url');
            if (click_flag == false) {
                return false;
            }
            click_flag = false;
            $.ajax({
                url: post_url,
                type: 'post',
                dataType: 'json',
                data: d.serializeArray(),
                success: function (res) {
                    click_flag = true;
                    if (res.msg) {
                        alert(res.msg)
                    }
                    if (res.code == 1) {
                        list_url ? window.location.href = list_url : window.location.reload();
                    }
                },
                error: function (xhr) {
                    click_flag = true;
                    console.log(xhr);
                }
            });
        });
        //a标签post提交
        $('._authmng-delete').off('click').on('click', function () {
            var msg = $(this).attr('post-msg');
            if (msg) {
                if (!confirm(msg)) {
                    return false;
                }
            }
            var url = $(this).attr('post-url');
            var param = url.substring(url.indexOf('?') + 1);
            console.log(param);
            var item = '',
                key = '',
                val = '',
                postData = {};
            var paramArr = param.split('&');
            // console.log(paramArr);
            for (var i = 0, len = paramArr.length; i < len; i++) {
                item = paramArr[i].split('=');
                key = item[0];
                val = item[1];
                postData[key] = val;
            }
            if (click_flag == false) {
                return false;
            }
            click_flag = false;
            $.ajax({
                url: url,
                type: 'post',
                dataType: 'json',
                data: postData,
                success: function (res) {
                    click_flag = true;
                    if (res.msg) {
                        alert(res.msg)
                    }
                    if (res.code == 1) {
                        window.location.reload();
                    }
                },
                error: function (xhr) {
                    click_flag = true;
                    console.log(xhr);
                }
            });
        });
        //菜单顺序
        $('._authmng-menu-sort').off('change').on('change', function () {
            var sort = $(this).val(), that_id = $(this).attr('that_id');
            if (!that_id) {
                return false;
            }
            var postData = {id: that_id, sort: sort}
            if (click_flag == false) {
                return false;
            }
            click_flag = false;
            $.ajax({
                url: window.location.href,
                type: 'post',
                dataType: 'json',
                data: postData,
                success: function (res) {
                    click_flag = true;
                    if (res.msg) {
                        alert(res.msg)
                    }
                    if (res.code == 1) {
                        window.location.reload();
                    }
                },
                error: function (xhr) {
                    click_flag = true;
                    console.log(xhr);
                }
            });
        });
    })
</script>
